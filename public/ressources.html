<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CultureHub by LIGHT Innovation - Ressources</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-gray-50">
    <!-- Navbar -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Nom du site -->
                <div class="flex-shrink-0">
                    <h1 class="text-2xl font-bold text-purple-600">CultureHub</h1>
                </div>

                <!-- Menu desktop -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium hover:border-b-2 hover:border-purple-300 transition-all">Accueil</a>
                        <a href="#" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium hover:border-b-2 hover:border-purple-300 transition-all">Événements</a>
                        <a href="#" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium hover:border-b-2 hover:border-purple-300 transition-all">Activités</a>
                        <a href="#" class="text-purple-600 hover:text-purple-800 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-purple-600">Ressources</a>
                        <a href="#" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium hover:border-b-2 hover:border-purple-300 transition-all">Membres</a>
                        <a href="#" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium hover:border-b-2 hover:border-purple-300 transition-all">Cotisations</a>

                        <!-- Menu utilisateur desktop -->
                        <div class="relative ml-3">
                            <button id="user-menu-button" class="bg-purple-600 text-white p-2 rounded-full hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500" onclick="toggleUserMenu()">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </button>
                            <!-- Dropdown menu utilisateur -->
                            <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profil</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Paramètres</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Mes favoris</a>
                                <hr class="my-1">
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" onclick="toggleAdminPanel()">
                                    <i class="fas fa-cog mr-2"></i>Administration
                                </a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Déconnexion</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bouton menu mobile -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-purple-600 focus:outline-none focus:text-purple-600" onclick="toggleMobileMenu()">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            <path id="close-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Menu mobile -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Accueil</a>
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Événements</a>
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Activités</a>
                <a href="#" class="text-purple-600 block px-3 py-2 rounded-md text-base font-medium bg-purple-50">Ressources</a>
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Membres</a>
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Cotisations</a>
                <hr class="my-2">
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Profil</a>
                <a href="#" class="text-gray-700 hover:text-purple-600 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium">Paramètres</a>
            </div>
        </div>
    </nav>

    <!-- Contenu principal -->
    <main class="pt-16">
        <!-- Header Section -->
        <section class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white py-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">
                        <i class="fas fa-book-open mr-4"></i>Bibliothèque de Ressources
                    </h1>
                    <p class="text-xl text-purple-100 max-w-3xl mx-auto">
                        Explorez notre collection de documents, guides et outils pour enrichir vos projets culturels et créatifs
                    </p>
                </div>
            </div>
        </section>

        <!-- Filtres et Recherche -->
        <section class="bg-white py-8 border-b border-gray-200 sticky top-16 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Barre de recherche -->
                <div class="mb-6">
                    <div class="relative max-w-2xl mx-auto flex">
                        <div class="relative flex-1">
                            <input type="text" id="searchInput" placeholder="Rechercher par titre, auteur, tags..." 
                                   class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-l-full focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                   onkeydown="handleSearchKeydown(event)">
                            <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                        <button onclick="performSearch()" class="bg-purple-600 text-white px-6 py-3 rounded-r-full hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors flex items-center">
                            <i class="fas fa-search mr-2"></i>
                            <span class="hidden sm:inline">Rechercher</span>
                        </button>
                    </div>
                </div>

                <!-- Filtres et Tri -->
                <div class="flex flex-wrap items-center justify-between gap-4">
                    <!-- Filtres par catégorie -->
                    <div class="flex flex-wrap gap-2">
                        <button onclick="filterByCategory('all')" class="filter-btn active bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-700 transition-colors">
                            Tous
                        </button>
                        <button onclick="filterByCategory('models')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">
                            Modèles de projets
                        </button>
                        <button onclick="filterByCategory('guides')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">
                            Guides pratiques
                        </button>
                        <button onclick="filterByCategory('tools')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">
                            Outils
                        </button>
                        <button onclick="filterByCategory('status')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">
                            Statuts
                        </button>
                        <button onclick="filterByCategory('templates')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">
                            Templates
                        </button>
                    </div>

                    <!-- Tri -->
                    <div class="flex items-center gap-4">
                        <select id="sortSelect" onchange="sortDocuments()" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500">
                            <option value="recent">Plus récents</option>
                            <option value="popular">Plus populaires</option>
                            <option value="name">Nom A-Z</option>
                            <option value="downloads">Téléchargements</option>
                        </select>
                        
                        <button onclick="toggleView()" id="viewToggle" class="p-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                            <i class="fas fa-th-large"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Liste des Documents -->
        <section class="py-12 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div id="documentsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Les documents seront générés par JavaScript -->
                </div>

                <!-- Pagination -->
                <div id="pagination" class="flex justify-center items-center space-x-2 mt-12">
                    <!-- La pagination sera générée par JavaScript -->
                </div>

                <!-- Bouton Charger Plus -->
                <div class="text-center mt-8">
                    <button id="loadMoreBtn" onclick="loadMoreDocuments()" class="bg-purple-600 text-white px-8 py-3 rounded-full font-semibold hover:bg-purple-700 transform hover:scale-105 transition-all">
                        <i class="fas fa-plus mr-2"></i>Charger plus de ressources
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal de Prévisualisation -->
    <div id="previewModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden">
            <div class="flex justify-between items-center p-6 border-b">
                <h3 id="previewTitle" class="text-xl font-bold text-gray-900"></h3>
                <button onclick="closePreview()" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="previewContent" class="p-6 overflow-y-auto max-h-[70vh]">
                <!-- Contenu de la prévisualisation -->
            </div>
        </div>
    </div>

    <!-- Panel d'Administration -->
    <div id="adminPanel" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden">
            <div class="flex justify-between items-center p-6 border-b bg-purple-600 text-white">
                <h3 class="text-xl font-bold">
                    <i class="fas fa-plus-circle mr-2"></i>Ajouter une nouvelle ressource
                </h3>
                <button onclick="toggleAdminPanel()" class="text-purple-200 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <form id="addResourceForm" class="p-6 overflow-y-auto max-h-[70vh] space-y-6">
                <div>
                    <label for="docTitle" class="block text-sm font-medium text-gray-700 mb-2">Titre du document *</label>
                    <input type="text" id="docTitle" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500">
                </div>

                <div>
                    <label for="docDescription" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="docDescription" rows="3" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500"></textarea>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="docCategory" class="block text-sm font-medium text-gray-700 mb-2">Catégorie *</label>
                        <select id="docCategory" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500">
                            <option value="">Choisir une catégorie</option>
                            <option value="models">Modèles de projets</option>
                            <option value="guides">Guides pratiques</option>
                            <option value="tools">Outils</option>
                            <option value="status">Statuts</option>
                            <option value="templates">Templates</option>
                        </select>
                    </div>

                    <div>
                        <label for="docAuthor" class="block text-sm font-medium text-gray-700 mb-2">Auteur</label>
                        <input type="text" id="docAuthor" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500">
                    </div>
                </div>

                <div>
                    <label for="docTags" class="block text-sm font-medium text-gray-700 mb-2">Tags (séparés par des virgules)</label>
                    <input type="text" id="docTags" placeholder="créativité, projet, design" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500">
                </div>

                <div>
                    <label for="docFile" class="block text-sm font-medium text-gray-700 mb-2">Fichier *</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors">
                        <input type="file" id="docFile" required accept=".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx" class="hidden" onchange="handleFileSelect(event)">
                        <button type="button" onclick="document.getElementById('docFile').click()" class="text-purple-600 hover:text-purple-700">
                            <i class="fas fa-cloud-upload-alt text-3xl mb-2"></i>
                            <div>Cliquez pour sélectionner un fichier</div>
                            <div class="text-sm text-gray-500 mt-1">PDF, Word, PowerPoint, Excel (Max 10MB)</div>
                        </button>
                        <div id="fileInfo" class="hidden mt-3 p-3 bg-gray-50 rounded-lg">
                            <i class="fas fa-file mr-2"></i>
                            <span id="fileName"></span>
                            <span id="fileSize" class="text-sm text-gray-500 ml-2"></span>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Visibilité</label>
                    <div class="space-y-2">
                        <label class="flex items-center">
                            <input type="radio" name="visibility" value="public" checked class="mr-2">
                            <span>Public - Visible par tous les utilisateurs</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="visibility" value="members" class="mr-2">
                            <span>Membres uniquement - Réservé aux membres inscrits</span>
                        </label>
                    </div>
                </div>

                <div class="flex justify-end space-x-4 pt-4 border-t">
                    <button type="button" onclick="toggleAdminPanel()" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                        Annuler
                    </button>
                    <button type="submit" class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">
                        <i class="fas fa-save mr-2"></i>Ajouter la ressource
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-2xl font-bold text-purple-400 mb-4">CultureHub</h3>
                    <p class="text-gray-300">Votre plateforme dédiée à la découverte et au partage culturel.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Navigation</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-purple-400">Accueil</a></li>
                        <li><a href="#" class="hover:text-purple-400">Événements</a></li>
                        <li><a href="#" class="hover:text-purple-400">Activités</a></li>
                        <li><a href="#" class="hover:text-purple-400">Ressources</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Communauté</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-purple-400">Forum</a></li>
                        <li><a href="#" class="hover:text-purple-400">Blog</a></li>
                        <li><a href="#" class="hover:text-purple-400">Newsletter</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-purple-400">À propos</a></li>
                        <li><a href="#" class="hover:text-purple-400">Contact</a></li>
                        <li><a href="#" class="hover:text-purple-400">Support</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 CultureHub. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script>
        // Données des documents (en pratique, ceci viendrait d'une API)
        let documents = [
            {
                id: 1,
                title: "Guide de Création d'Événements Culturels",
                description: "Un guide complet pour organiser et promouvoir vos événements culturels avec succès.",
                category: "guides",
                tags: ["événements", "organisation", "culture"],
                author: "Marie Dubois",
                date: "2024-03-15",
                type: "pdf",
                downloads: 1247,
                favorite: false
            },
            {
                id: 2,
                title: "Modèle de Projet Artistique",
                description: "Template Word pour structurer vos propositions de projets artistiques et culturels.",
                category: "models",
                tags: ["projet", "template", "artistique"],
                author: "Jean Martin",
                date: "2024-03-10",
                type: "docx",
                downloads: 856,
                favorite: true
            },
            {
                id: 3,
                title: "Outils de Financement Participatif",
                description: "Présentation PowerPoint des différentes plateformes et stratégies de crowdfunding.",
                category: "tools",
                tags: ["financement", "crowdfunding", "stratégie"],
                author: "Sophie Laurent",
                date: "2024-03-08",
                type: "pptx",
                downloads: 642,
                favorite: false
            },
            {
                id: 4,
                title: "Statuts d'Association Culturelle",
                description: "Modèle de statuts type pour créer une association à vocation culturelle.",
                category: "status",
                tags: ["association", "juridique", "statuts"],
                author: "Avocat Pierre Blanc",
                date: "2024-03-05",
                type: "pdf",
                downloads: 1034,
                favorite: false
            },
            {
                id: 5,
                title: "Template Budget Événementiel",
                description: "Feuille Excel pour gérer et prévoir le budget de vos événements culturels.",
                category: "templates",
                tags: ["budget", "finance", "gestion"],
                author: "Claire Moreau",
                date: "2024-03-01",
                type: "xlsx",
                downloads: 923,
                favorite: true
            },
            {
                id: 6,
                title: "Guide Marketing Digital pour Artistes",
                description: "Stratégies et techniques pour promouvoir votre art sur les réseaux sociaux et le web.",
                category: "guides",
                tags: ["marketing", "digital", "réseaux sociaux"],
                author: "Marc Dupont",
                date: "2024-02-28",
                type: "pdf",
                downloads: 1456,
                favorite: false
            }
        ];

        let currentPage = 1;
        let documentsPerPage = 6;
        let filteredDocuments = [...documents];
        let currentView = 'grid';

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            renderDocuments();
            setupSearch();
        });

        // Fonctions de navigation
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');

            mobileMenu.classList.toggle('hidden');
            menuIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        }

        function toggleUserMenu() {
            const userDropdown = document.getElementById('user-dropdown');
            userDropdown.classList.toggle('hidden');
        }

        function toggleAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            adminPanel.classList.toggle('hidden');
        }

        // Fonctions de filtrage et tri
        function filterByCategory(category) {
            // Mise à jour des boutons de filtre
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-purple-600', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            event.target.classList.add('active', 'bg-purple-600', 'text-white');
            event.target.classList.remove('bg-gray-200', 'text-gray-700');

            // Filtrage des documents
            if (category === 'all') {
                filteredDocuments = [...documents];
            } else {
                filteredDocuments = documents.filter(doc => doc.category === category);
            }
            
            currentPage = 1;
            renderDocuments();
        }

        function sortDocuments() {
            const sortBy = document.getElementById('sortSelect').value;
            
            switch(sortBy) {
                case 'recent':
                    filteredDocuments.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'popular':
                    filteredDocuments.sort((a, b) => b.downloads - a.downloads);
                    break;
                case 'name':
                    filteredDocuments.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                case 'downloads':
                    filteredDocuments.sort((a, b) => b.downloads - a.downloads);
                    break;
            }
            
            renderDocuments();
        }

        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                
                if (searchTerm === '') {
                    filteredDocuments = [...documents];
                } else {
                    filteredDocuments = documents.filter(doc => 
                        doc.title.toLowerCase().includes(searchTerm) ||
                        doc.author.toLowerCase().includes(searchTerm) ||
                        doc.tags.some(tag => tag.toLowerCase().includes(searchTerm)) ||
                        doc.description.toLowerCase().includes(searchTerm)
                    );
                }
                
                currentPage = 1;
                renderDocuments();
            });
        }

        // Fonctions d'affichage
        function renderDocuments() {
            const grid = document.getElementById('documentsGrid');
            const startIndex = (currentPage - 1) * documentsPerPage;
            const endIndex = startIndex + documentsPerPage;
            const paginatedDocs = filteredDocuments.slice(startIndex, endIndex);

            grid.innerHTML = paginatedDocs.map(doc => createDocumentCard(doc)).join('');
            renderPagination();
        }

        function createDocumentCard(doc) {
            const fileIcons = {
                'pdf': 'fas fa-file-pdf text-red-500',
                'docx': 'fas fa-file-word text-blue-500',
                'doc': 'fas fa-file-word text-blue-500',
                'pptx': 'fas fa-file-powerpoint text-orange-500',
                'ppt': 'fas fa-file-powerpoint text-orange-500',
                'xlsx': 'fas fa-file-excel text-green-500',
                'xls': 'fas fa-file-excel text-green-500'
            };

            const categoryLabels = {
                'models': 'Modèles',
                'guides': 'Guides',
                'tools': 'Outils',
                'status': 'Statuts',
                'templates': 'Templates'
            };

            return `
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 group">
                    <div class="p-6">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="text-3xl">
                                    <i class="${fileIcons[doc.type] || 'fas fa-file text-gray-500'}"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 line-clamp-2">${doc.title}</h3>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium">
                                            ${categoryLabels[doc.category]}
                                        </span>
                                        <span class="text-xs text-gray-500 uppercase">${doc.type}</span>
                                    </div>
                                </div>
                            </div>
                            <button onclick="toggleFavorite(${doc.id})" class="text-gray-400 hover:text-red-500 transition-colors">
                                <i class="fas fa-heart ${doc.favorite ? 'text-red-500' : ''}"></i>
                            </button>
                        </div>

                        <p class="text-gray-600 text-sm mb-4 line-clamp-3">${doc.description}</p>

                        <div class="flex flex-wrap gap-1 mb-4">
                            ${doc.tags.map(tag => `<span class="bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs">#${tag}</span>`).join('')}
                        </div>

                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center">
                                    <i class="fas fa-user mr-1"></i>
                                    ${doc.author}
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-calendar mr-1"></i>
                                    ${formatDate(doc.date)}
                                </div>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-download mr-1"></i>
                                ${doc.downloads}
                            </div>
                        </div>

                        <div class="flex space-x-2">
                            <button onclick="downloadDocument(${doc.id})" class="flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium">
                                <i class="fas fa-download mr-2"></i>Télécharger
                            </button>
                            <button onclick="previewDocument(${doc.id})" class="flex-1 border border-purple-600 text-purple-600 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors text-sm font-medium">
                                <i class="fas fa-eye mr-2"></i>Prévisualiser
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('fr-FR', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(filteredDocuments.length / documentsPerPage);
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = '';
            
            // Bouton précédent
            if (currentPage > 1) {
                paginationHTML += `
                    <button onclick="changePage(${currentPage - 1})" class="px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-500 hover:bg-gray-50">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                `;
            }

            // Numéros de page
            for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) {
                paginationHTML += `
                    <button onclick="changePage(${i})" class="px-3 py-2 rounded-md ${i === currentPage ? 'bg-purple-600 text-white' : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'}">
                        ${i}
                    </button>
                `;
            }

            // Bouton suivant
            if (currentPage < totalPages) {
                paginationHTML += `
                    <button onclick="changePage(${currentPage + 1})" class="px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-500 hover:bg-gray-50">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                `;
            }

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            renderDocuments();
            window.scrollTo({ top: 300, behavior: 'smooth' });
        }

        function loadMoreDocuments() {
            documentsPerPage += 6;
            renderDocuments();
        }

        function toggleView() {
            const grid = document.getElementById('documentsGrid');
            const toggleBtn = document.getElementById('viewToggle');
            
            if (currentView === 'grid') {
                currentView = 'list';
                grid.classList.remove('grid-cols-1', 'md:grid-cols-2', 'lg:grid-cols-3');
                grid.classList.add('grid-cols-1');
                toggleBtn.innerHTML = '<i class="fas fa-th-large"></i>';
            } else {
                currentView = 'grid';
                grid.classList.remove('grid-cols-1');
                grid.classList.add('grid-cols-1', 'md:grid-cols-2', 'lg:grid-cols-3');
                toggleBtn.innerHTML = '<i class="fas fa-list"></i>';
            }
        }

        // Fonctions d'interaction
        function toggleFavorite(docId) {
            const doc = documents.find(d => d.id === docId);
            if (doc) {
                doc.favorite = !doc.favorite;
                renderDocuments();
            }
        }

        function downloadDocument(docId) {
            const doc = documents.find(d => d.id === docId);
            if (doc) {
                // Simulation du téléchargement
                doc.downloads++;
                
                // Animation de confirmation
                const button = event.target.closest('button');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check mr-2"></i>Téléchargé!';
                button.classList.add('bg-green-600');
                button.classList.remove('bg-purple-600');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('bg-green-600');
                    button.classList.add('bg-purple-600');
                    renderDocuments();
                }, 2000);
                
                // Ici, vous ajouteriez la logique réelle de téléchargement
                console.log(`Téléchargement du document: ${doc.title}`);
            }
        }

        function previewDocument(docId) {
            const doc = documents.find(d => d.id === docId);
            if (doc) {
                const modal = document.getElementById('previewModal');
                const title = document.getElementById('previewTitle');
                const content = document.getElementById('previewContent');
                
                title.textContent = doc.title;
                content.innerHTML = `
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                            <div class="text-4xl">
                                <i class="${getFileIcon(doc.type)}"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg">${doc.title}</h4>
                                <p class="text-gray-600">Par ${doc.author} • ${formatDate(doc.date)}</p>
                                <p class="text-sm text-gray-500">Type: ${doc.type.toUpperCase()} • ${doc.downloads} téléchargements</p>
                            </div>
                        </div>
                        
                        <div>
                            <h5 class="font-semibold mb-2">Description</h5>
                            <p class="text-gray-700">${doc.description}</p>
                        </div>
                        
                        <div>
                            <h5 class="font-semibold mb-2">Tags</h5>
                            <div class="flex flex-wrap gap-2">
                                ${doc.tags.map(tag => `<span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">#${tag}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-yellow-600 mr-2"></i>
                                    <span class="text-yellow-800">Prévisualisation limitée. Téléchargez le document pour accéder au contenu complet.</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-3 pt-4">
                            <button onclick="downloadDocument(${doc.id}); closePreview();" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors">
                                <i class="fas fa-download mr-2"></i>Télécharger
                            </button>
                            <button onclick="toggleFavorite(${doc.id})" class="border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                                <i class="fas fa-heart ${doc.favorite ? 'text-red-500' : ''} mr-2"></i>
                                ${doc.favorite ? 'Retirer des favoris' : 'Ajouter aux favoris'}
                            </button>
                        </div>
                    </div>
                `;
                
                modal.classList.remove('hidden');
            }
        }

        function closePreview() {
            document.getElementById('previewModal').classList.add('hidden');
        }

        function getFileIcon(type) {
            const icons = {
                'pdf': 'fas fa-file-pdf text-red-500',
                'docx': 'fas fa-file-word text-blue-500',
                'doc': 'fas fa-file-word text-blue-500',
                'pptx': 'fas fa-file-powerpoint text-orange-500',
                'ppt': 'fas fa-file-powerpoint text-orange-500',
                'xlsx': 'fas fa-file-excel text-green-500',
                'xls': 'fas fa-file-excel text-green-500'
            };
            return icons[type] || 'fas fa-file text-gray-500';
        }

        // Fonctions d'administration
        function handleFileSelect(event) {
            const file = event.target.files[0];
            const fileInfo = document.getElementById('fileInfo');
            const fileName = document.getElementById('fileName');
            const fileSize = document.getElementById('fileSize');
            
            if (file) {
                fileName.textContent = file.name;
                fileSize.textContent = `(${(file.size / 1024 / 1024).toFixed(2)} MB)`;
                fileInfo.classList.remove('hidden');
            }
        }

        document.getElementById('addResourceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                title: document.getElementById('docTitle').value,
                description: document.getElementById('docDescription').value,
                category: document.getElementById('docCategory').value,
                author: document.getElementById('docAuthor').value,
                tags: document.getElementById('docTags').value.split(',').map(tag => tag.trim()),
                file: document.getElementById('docFile').files[0],
                visibility: document.querySelector('input[name="visibility"]:checked').value
            };
            
            // Validation
            if (!formData.title || !formData.category || !formData.file) {
                alert('Veuillez remplir tous les champs obligatoires.');
                return;
            }
            
            // Simulation d'ajout du document
            const newDoc = {
                id: documents.length + 1,
                title: formData.title,
                description: formData.description || 'Aucune description disponible.',
                category: formData.category,
                tags: formData.tags.filter(tag => tag !== ''),
                author: formData.author || 'Anonyme',
                date: new Date().toISOString().split('T')[0],
                type: formData.file.name.split('.').pop().toLowerCase(),
                downloads: 0,
                favorite: false
            };
            
            documents.unshift(newDoc);
            filteredDocuments = [...documents];
            
            // Réinitialiser le formulaire
            document.getElementById('addResourceForm').reset();
            document.getElementById('fileInfo').classList.add('hidden');
            
            // Fermer le modal et actualiser l'affichage
            toggleAdminPanel();
            renderDocuments();
            
            // Notification de succès
            showNotification('Ressource ajoutée avec succès!', 'success');
        });

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 ${
                type === 'success' ? 'bg-green-500 text-white' : 
                type === 'error' ? 'bg-red-500 text-white' : 
                'bg-blue-500 text-white'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'}-circle mr-2"></i>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Gestion des clics extérieurs
        document.addEventListener('click', function(event) {
            const userButton = document.getElementById('user-menu-button');
            const userDropdown = document.getElementById('user-dropdown');
            const mobileButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            // Fermer menu utilisateur si clic extérieur
            if (!userButton.contains(event.target) && !userDropdown.contains(event.target)) {
                userDropdown.classList.add('hidden');
            }

            // Fermer menu mobile si clic extérieur
            if (!mobileButton.contains(event.target) && !mobileMenu.contains(event.target)) {
                mobileMenu.classList.add('hidden');
                document.getElementById('menu-icon').classList.remove('hidden');
                document.getElementById('close-icon').classList.add('hidden');
            }

            // Fermer modals si clic sur l'overlay
            if (event.target.id === 'previewModal') {
                closePreview();
            }
            if (event.target.id === 'adminPanel') {
                toggleAdminPanel();
            }
        });

        // Gestion responsive
        window.addEventListener('resize', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');

            if (window.innerWidth >= 768) {
                mobileMenu.classList.add('hidden');
                menuIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }
        });

        // Raccourcis clavier
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closePreview();
                const adminPanel = document.getElementById('adminPanel');
                if (!adminPanel.classList.contains('hidden')) {
                    toggleAdminPanel();
                }
            }
            
            if (event.ctrlKey && event.key === 'f') {
                event.preventDefault();
                document.getElementById('searchInput').focus();
            }
        });
    </script>

    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</body>

</html>
                